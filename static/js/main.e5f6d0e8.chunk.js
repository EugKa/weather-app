(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{103:function(e,t,a){e.exports={card:"city-card_card__38qCF",imgWrapper:"city-card_imgWrapper__358PZ"}},138:function(e,t,a){e.exports={mainPage:"main_mainPage__1fXDM",noData:"main_noData__1aq1H",noDataIcon:"main_noDataIcon__3fzoL"}},158:function(e,t,a){},159:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(35),c=a.n(n),s=(a(158),a(19)),i=(a(159),a(23)),o=a(144),u=a(330),l=a(1),d=["label","error"],j=Object(r.forwardRef)((function(e,t){var a=e.label,r=e.error,n=Object(o.a)(e,d);return Object(l.jsx)(u.a,Object(i.a)(Object(i.a)({ref:t,error:!!r,id:r?"outlined-error-helper-text":"outlined-basic",label:r?r.message:a,helperText:r?"Required field.":""},n),{},{variant:"outlined"}))})),p=a(43),h=a(64),f=a.n(h),m=function(){return Object(l.jsx)("header",{className:f.a.header,children:Object(l.jsx)("div",{className:f.a.wrapper,children:Object(l.jsx)(p.b,{to:"/",className:f.a.link,children:Object(l.jsx)("h3",{className:f.a.htag,children:"Home"})})})})},b=a(338),x=a(339),O=a(136),g=a(8),y=a(17),_=a.n(y),v=a(22),w=a(33),C="https://api.openweathermap.org/data/2.5";function N(e,t){return D.apply(this,arguments)}function D(){return(D=Object(v.a)(_.a.mark((function e(t,a){var r,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(C,"/onecall?lat=").concat(t,"&lon=").concat(a,"&exclude=minutely&units=metric&appid=").concat("230e7265466461ece3d05f5c655520f0"));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function W(e){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(_.a.mark((function e(t){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(C,"/weather?q=").concat(t,"&units=metric&appid=").concat("230e7265466461ece3d05f5c655520f0"));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function H(e){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(_.a.mark((function e(t){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.map((function(e){return fetch("".concat(C,"/weather?q=").concat(e,"&units=metric&appid=").concat("230e7265466461ece3d05f5c655520f0")).then((function(e){return e.json()}))})),e.next=4,Promise.all(a);case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var M=Object(w.c)("@@CurrentWeather/fetchData",function(){var e=Object(v.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(w.c)("@@CurrentWeather/parallel",function(){var e=Object(v.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(w.c)("@@CurrentWeather/Update",function(){var e=Object(v.a)(_.a.mark((function e(t){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.city,e.next=3,W(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(w.b)("@@WCurrentWeather/delete"),A=Object(w.d)({name:"@@CurrentWeather",initialState:{CurrentData:[],status:"idle",error:!1},reducers:{},extraReducers:function(e){e.addCase(M.pending,(function(e){e.status="loading"})),e.addCase(M.fulfilled,(function(e,t){e.status="successed",e.CurrentData=[].concat(Object(g.a)(e.CurrentData),[t.payload])})),e.addCase(M.rejected,(function(e){e.status="failed",e.error=!0})),e.addCase(U,(function(e,t){e.CurrentData=e.CurrentData.filter((function(e){return e.id!==t.payload}))})),e.addCase(P.pending,(function(e){e.status="loading"})),e.addCase(P.fulfilled,(function(e,t){e.status="successed";var a=t.payload,r=a.name,n=a.id,c=a.main,s=a.weather,i=e.CurrentData.find((function(e){return e.id===n||e.name===r}));i&&(i.weather[0].main=s[0].main,i.weather[0].description=s[0].description,i.main.temp=c.temp,i.main.feels_like=c.feels_like,i.main.temp_min=c.temp_min,i.main.temp_max=c.temp_max)})),e.addCase(P.rejected,(function(e){e.status="failed",e.error=!0})),e.addCase(T.pending,(function(e){e.status="loading"})),e.addCase(T.fulfilled,(function(e,t){e.status="successed",e.CurrentData=t.payload})),e.addCase(T.rejected,(function(e){e.status="failed",e.error=!0}))}}),F=function(e){return e.CurrentWeatherData.CurrentData},I=function(e){return e.CurrentWeatherData.status},R=A.reducer,q=Object(w.c)("@@HourCastWeather/fetchData",function(){var e=Object(v.a)(_.a.mark((function e(t){var a,r,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lat,r=t.lon,e.next=3,N(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(w.d)({name:"@@HourCastWeather",initialState:{HourecastData:{},status:"idle",error:!1},reducers:{},extraReducers:function(e){e.addCase(q.pending,(function(e){e.status="loading"})),e.addCase(q.fulfilled,(function(e,t){e.status="successed",e.HourecastData=t.payload})),e.addCase(q.rejected,(function(e){e.status="failed",e.error=!0}))}}),G=function(e){return e.HourCastWeatherSlice.HourecastData},L=function(e){return e.HourCastWeatherSlice.status},E=z.reducer,Z=a(62),B=function(){return Object(Z.b)()},J=Z.c,K=a(55),V=a.n(K),Q=function(){var e=Object(O.a)(),t=e.register,a=e.handleSubmit,r=e.formState.errors,n=e.reset,c=B();return Object(l.jsx)("div",{className:V.a.AddCity,children:Object(l.jsx)(b.a,{className:V.a.card,variant:"outlined",children:Object(l.jsx)("form",{className:V.a.form,onSubmit:a((function(e){c(M(e.city)),n()})),children:Object(l.jsxs)("div",{className:V.a.formWrapper,children:[Object(l.jsx)(j,Object(i.a)(Object(i.a)({label:"Please enter city name"},t("city",{required:{value:!0,message:"Please enter correct city name"}})),{},{error:r.city})),Object(l.jsx)(x.a,{className:V.a.btn,variant:"contained",color:"primary",type:"submit",children:"Add City"})]})})})})},X=a(340),Y=a(336),$=a(335);function ee(){return Object(l.jsx)($.a,{sx:{display:"flex"},className:"main-pr",children:Object(l.jsx)(Y.a,{})})}var te=a(103),ae=a.n(te),re=function(e){var t=e.data,a=e.handleDelete,r=e.handleSelect,n=e.handleUpdate;return Object(l.jsx)("div",{className:ae.a.card,children:t&&t.weather?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[t.name,", ",t.sys.country]}),Object(l.jsxs)("div",{className:ae.a.imgWrapper,children:[Object(l.jsx)(X.a,{height:100,component:"img",image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")}),Object(l.jsxs)("div",{children:[Math.floor(t.main.temp),"\u2103"]})]}),Object(l.jsx)("div",{}),Object(l.jsx)(x.a,{className:"btn-update",onClick:function(){return n(t.name,t.id)},children:"Update"}),Object(l.jsx)(x.a,{className:"btn-info",onClick:function(){return r(t.coord.lon,t.coord.lat,t.name)},children:"More info"}),Object(l.jsx)(x.a,{className:"btn-delete",onClick:function(){return a(t.id,t.name)},children:"Delete"})]}):Object(l.jsx)(ee,{})})},ne=a(30),ce=a.n(ne),se=a(337),ie=a(5),oe=a(56),ue=a.n(oe);var le=function(e,t){return ue.a.unix(e).utc().add(t,"s").format("ddd, MMM D")};function de(e){return e.charAt(0).toUpperCase()+e.slice(1)}var je=Object(ie.a)(se.a)((function(e){var t=e.theme;return Object(i.a)(Object(i.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),pe=function(e){var t,a,r,n=e.current,c=e.timezone_offset,s=e.params;return Object(l.jsx)(je,{children:Object(l.jsxs)("ul",{className:ce.a.todayList,children:[Object(l.jsx)("li",{children:(a=n.dt,r=c,ue.a.unix(a).utc().add(r,"s").format("MMM D, HH:mma"))}),Object(l.jsx)("h2",{children:s}),Object(l.jsxs)("ul",{className:ce.a.imgWrapper,children:[Object(l.jsx)(X.a,{height:70,component:"img",image:"http://openweathermap.org/img/wn/".concat(n.weather.map((function(e){return e.icon})),"@2x.png")}),Object(l.jsxs)("li",{children:[Math.floor(n.temp),"\u2103"]})]}),Object(l.jsx)("ul",{className:ce.a.info,children:Object(l.jsxs)("li",{children:[Object(l.jsxs)("span",{className:ce.a.infoText,children:["Feels like ",Math.floor(n.feels_like),"\u2103."]}),Object(l.jsxs)("span",{className:ce.a.infoText,children:[de(n.weather[0].description),"."]})]})}),Object(l.jsxs)("ul",{className:ce.a.info,children:[Object(l.jsxs)("li",{children:[Object(l.jsxs)("span",{className:ce.a.infoText,children:["Wind speed: ",n.wind_speed]}),Object(l.jsxs)("span",{className:ce.a.infoText,children:["Preshure: ",n.pressure,"hPa"]})]}),Object(l.jsxs)("li",{children:[Object(l.jsxs)("span",{className:ce.a.infoText,children:["Humidity: ",n.humidity,"%"]}),Object(l.jsxs)("span",{className:ce.a.infoText,children:["UV: ",n.uvi]})]}),Object(l.jsxs)("li",{children:[Object(l.jsxs)("span",{className:ce.a.infoText,children:["Dew point: ",n.dew_point,"\u2103"]}),Object(l.jsxs)("span",{className:ce.a.infoText,children:["Visibility: ",(t=n.visibility,t>1e3?t/1e3+"km":t+"m")]})]})]})]})})},he=a(65),fe=a.n(he),me=function(e){var t=e.data,a=e.offset,r=t.dt,n=t.temp,c=n.min,s=n.max,i=t.weather;return Object(l.jsxs)("div",{className:fe.a.eighthDayForecast,children:[Object(l.jsx)("div",{children:le(r,a)})," ",Object(l.jsx)("div",{className:fe.a.imgWrapper,children:Object(l.jsx)(X.a,{height:70,component:"img",image:"http://openweathermap.org/img/wn/".concat(i[0].icon,"@2x.png")})}),Object(l.jsxs)("div",{className:fe.a.text,children:[Math.floor(c)," / ",Math.floor(s),"\u2103"]}),Object(l.jsx)("div",{className:fe.a.text,children:de(i[0].description)})]})},be=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Uh oh! Something went wrond :( "}),Object(l.jsx)("h2",{children:"The page you're looking for can't be found"}),Object(l.jsx)(p.b,{to:"/",children:"Go to Home"})]})},xe=a(332),Oe=a(329),ge=function(e){var t=e.type,a=e.children;return Object(l.jsx)(Oe.a,{sx:{width:"100%"},spacing:2,children:Object(l.jsx)(xe.a,{severity:t,children:a})})},ye=a(138),_e=a.n(ye),ve=a(334),we=Object(ie.a)(se.a)((function(e){var t=e.theme;return Object(i.a)(Object(i.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),Ce=function(e){var t=J(F),a=J(I),n=B(),c=Object(s.f)(),i=function(e,t){n(U(e)),localStorage.removeItem(t)},o=function(e,t,a){c.push({pathname:"/city/".concat(a),search:"lat=".concat(t,"&lon=").concat(e)})},u=function(e,t){n(P({id:t,city:e}))},d=Object.keys(localStorage);if(Object(r.useEffect)((function(){n(T(d))}),[]),"reject"===a)return Object(l.jsx)(ge,{type:"error",children:"Uh oh! Something went wrong. Please try again later"});var j=0===t.length&&Object(l.jsx)("div",{children:"No Data"});return Object(l.jsxs)($.a,{sx:{flexGrow:1},children:[Object(l.jsx)(Q,{}),j,Object(l.jsx)(ve.a,{container:!0,className:_e.a.cardWrapper,spacing:2,children:t.map((function(e){return localStorage.setItem(e.name,e.name),Object(l.jsx)(ve.a,{item:!0,lg:2,md:2,sm:6,xs:12,children:200===e.cod?Object(l.jsx)(we,{className:"city-item",children:Object(l.jsx)(re,{data:e,handleDelete:i,handleSelect:o,handleUpdate:u})}):Object(l.jsx)(ge,{type:"error",children:'"Uh oh! Something went wrong :(" "Please try again later"'})},e.id)}))})]})},Ne=a(139),De=a.n(Ne),We=a(142),ke=Object(ie.a)(se.a)((function(e){var t=e.theme;return Object(i.a)(Object(i.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),He=function(e){var t=Object(s.g)(),a=De.a.parse(t.search),n=a.lon,c=a.lat,i=J(G),o=J(L),u=i.current,d=i.daily,j=i.hourly,p=i.timezone_offset,h=B();Object(r.useEffect)((function(){h(q({lat:c,lon:n}))}),[c,n,h]);var f=function(e,t){var a=ue.a.unix(e).utc().add(t,"s").format("D");return parseInt(a)}(u&&u.dt,p),m=i&&i.hourly?i.hourly.filter((function(e){return function(e,t){var a=ue.a.unix(e).utc().add(t,"s").format("D");return parseInt(a)}(e.dt,p)===f})):[],b={labels:m.map((function(e){return t=e.dt,a=p,ue.a.unix(t).utc().add(a,"s").format("HH:mm");var t,a})),datasets:[{label:"Temperature",data:m.map((function(e){return Math.floor(e.temp)})),fill:!1,borderColor:"#742774"}]};return"reject"===o?Object(l.jsx)(ge,{type:"error",children:"Uh oh! Something went wrong. Please try again later"}):Object(l.jsx)($.a,{sx:{flexGrow:1},children:Object(l.jsxs)(ve.a,{container:!0,spacing:2,children:[Object(l.jsx)(ve.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:u?Object(l.jsx)(pe,{current:u,params:e.match.params.name,timezone_offset:p}):Object(l.jsx)(ee,{})}),Object(l.jsx)(ve.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:j?Object(l.jsxs)(ke,{children:[Object(l.jsx)("h2",{children:"Hourly forecast"}),Object(l.jsx)(We.a,{data:b})]}):Object(l.jsx)(ee,{})}),Object(l.jsx)(ve.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:d?Object(l.jsxs)(ke,{children:[Object(l.jsx)("h2",{children:"8-Day Forecast"}),d.map((function(e){return Object(l.jsx)(me,{data:e,offset:p},e.dt)}))]}):Object(l.jsx)(ee,{})})]})})};var Se=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(m,{}),Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{exact:!0,component:Ce,path:"/"}),Object(l.jsx)(s.a,{component:He,path:"/city/:name"}),Object(l.jsx)(s.a,{component:be})]})]})},Me=a(37),Te=Object(Me.b)({CurrentWeatherData:R,HourCastWeatherSlice:E}),Pe=Object(w.a)({reducer:Te});c.a.render(Object(l.jsx)(Z.a,{store:Pe,children:Object(l.jsx)(p.a,{children:Object(l.jsx)(Se,{})})}),document.getElementById("root"))},30:function(e,t,a){e.exports={todayList:"city-full-info_todayList__3uOjm",imgWrapper:"city-full-info_imgWrapper__268b9",info:"city-full-info_info__2oBi6",infoText:"city-full-info_infoText__2ySDN"}},55:function(e,t,a){e.exports={AddCity:"form_AddCity__2RN6D",form:"form_form__3Muto",formWrapper:"form_formWrapper__HF6Tw",card:"form_card__gFkKW",paper:"form_paper__2txhl",btn:"form_btn__1-3yM"}},64:function(e,t,a){e.exports={header:"header_header__lQPkg",wrapper:"header_wrapper__1u6Rv",link:"header_link__1Ku8r",htag:"header_htag__cW2hx"}},65:function(e,t,a){e.exports={imgWrapper:"eighth-day-forecast_imgWrapper__3oRZd",eighthDayForecast:"eighth-day-forecast_eighthDayForecast__3CUiZ",text:"eighth-day-forecast_text__aizPG"}}},[[290,1,2]]]);
//# sourceMappingURL=main.e5f6d0e8.chunk.js.map